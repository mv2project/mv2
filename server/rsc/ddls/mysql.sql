USE `@databaseName`;
CREATE TABLE IF NOT EXISTS `certificate` (`serialnumber` VARBINARY(120) NOT NULL, `content` BLOB NOT NULL, PRIMARY KEY (`serialnumber`));
CREATE TABLE IF NOT EXISTS `webspace` (`identifier` VARCHAR(200) NOT NULL, `certificate` VARBINARY(120) NOT NULL, `keypassphrase` BLOB NULL, `userkey` BLOB NULL, PRIMARY KEY (`identifier`), INDEX `webspace_certificate_link_idx` (`certificate` ASC), CONSTRAINT `webspace_certificate_link` FOREIGN KEY (`certificate`) REFERENCES `certificate` (`serialnumber`) ON DELETE RESTRICT ON UPDATE CASCADE);
CREATE TABLE IF NOT EXISTS `message` (`receiver` varchar(200) NOT NULL, `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `content` blob, `idmessage` bigint(20) NOT NULL AUTO_INCREMENT, `retrieved` bit(1) NOT NULL DEFAULT b'0', PRIMARY KEY (`idmessage`), KEY `message_webspace_link_idx` (`receiver`), CONSTRAINT `message_webspace_link` FOREIGN KEY (`receiver`) REFERENCES `webspace` (`identifier`) ON DELETE CASCADE ON UPDATE CASCADE);